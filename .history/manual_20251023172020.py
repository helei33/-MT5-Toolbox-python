MANUAL_TEXT = '''✨📊 **MT5 交易工具箱使用说明** 📊✨

🌟 **欢迎使用 MT5 交易工具箱！** 本工具旨在为您提供强大、灵活的多账户管理、交易复制和策略执行功能。

🎯 **您的交易助手，为效率而生！**

🔷━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━🔷

## 📋 1. 主要功能概览

✅ **多账户管理** 📱
   • 支持同时管理多个主账户和从属账户
   • 实时监控所有账户状态和交易情况

🔄 **智能跟单系统** 🎯
   • **正向/反向** 🔄: 可选择正向跟单或反向跟单
   • **灵活手数** ⚖️: 支持按固定手数、与主账户相同、按净值比例等多种模式
   • **品种映射** 🔀: 支持为不同账户设置灵活的交易品种映射规则（如 `XAUUSD` → `XAUUSD.m`）

🧩 **插件式策略** 🧠
   • 支持通过独立的 Python 文件扩展交易策略
   • 为每个账户独立配置和运行不同策略

📊 **实时监控仪表盘** 📈
   • 实时显示各账户的余额、净值、浮动盈亏、持仓等信息
   • 直观的数据展示，一目了然的账户状态

🔒 **安全可靠** 🛡️
   • 账户密码经过加密存储，保障您的账户安全
   • 提供一键清仓等风控功能，应对突发情况

🔷━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━🔷

## 🖥️ 2. 界面布局介绍

软件界面由多个标签页组成，方便您在不同功能区之间切换：

📋 **账户概览与控制** ⚙️
   • 核心操作区
   • 配置主账户和从属账户
   • 控制登录、跟单或策略运行状态

📊 **所有账户持仓** 📈
   • 集中查看和管理选定账户的所有当前持仓和挂单
   • 直观了解每笔交易详情

🔄 **全局 & 精确映射** 🗺️
   • **全局检查** ⏱️: 设置后台数据刷新间隔
   • **精确映射** 🎯: 为特定从账户设置精准的品种交易规则，优先级最高

🧩 **交易策略库** 📚
   • 管理、导入、删除和配置所有可用的交易策略
   • 设置策略的全局默认参数

📝 **策略开发说明** 💻
   • 为高级用户提供如何编写自定义策略的详细指南
   • 包含完整的代码模板和开发教程

📜 **操作日志** 📋
   • 实时记录软件的所有关键操作
   • 显示连接状态和错误信息，便于故障排查

❓ **使用说明** 📖
   • (本页面) 提供全面的功能介绍和操作指南

🔷━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━🔷

## 🚀 3. 快速上手指南

**🎯 目标：设置一个主账户和一个从账户，实现自动跟单。**

### 📝 第1步：配置主账户

1.  切换到 **""账户概览与控制""** 标签页
2.  在左侧的 **""主账户 1""** 区域，填入您的 MT5 主账户信息：
    - **路径**: 点击 `...` 按钮，找到并选择 MT5 终端程序 `terminal64.exe` 的位置
    - **账号**: 您的 MT5 交易账号
    - **密码**: 您的交易密码
    - **服务器**: 您的券商服务器地址
3.  点击 **""登录""** 按钮
    - ✅ 状态栏会显示连接过程
    - ✅ 成功后会显示""状态: 已连接""并更新账户信息

### 📝 第2步：配置从账户

1.  在右侧的 **""从账户 1""** 区域，填入您的 MT5 从账户信息（路径、账号、密码、服务器）
2.  **跟单魔术号**: 为从账户设置一个唯一的魔术号（Magic Number），例如 `12345`
    - ⚠️ 这用于区分哪些订单是本工具下的，请确保唯一性
3.  **配置跟单规则**:
    - **跟随主账户**: 选择您希望跟随的那个主账户（例如 ""主账户 1""）
    - **手数管理**: 选择一种手数模式
      * 🔰 初次使用建议选择 **""与主账户相同""**
      * 🔰 或设置一个小的 **""固定手数""**（如 `0.01`）
    - **跟单模式**: 选择 **""正向""**
4.  点击 **""保存设置""** 按钮，保存您的所有配置
5.  点击从账户的 **""登录""** 按钮，连接到从账户

### 📝 第3步：启动跟单

1.  ✅ 确认主、从账户都已成功登录（状态显示为""已连接""）
2.  ✅ 在从账户的控制区域，点击 **""启动跟随""** 按钮
3.  ✅ 此时，从账户的状态会变为 **""正常跟单""**
    - 🎯 当主账户开仓、平仓或修改订单时，从账户会自动执行相应操作
    - 🔄 所有交易操作都会实时反映在界面上

🔷━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━🔷

## 📚 4. 核心功能详解

### 🔑 账户控制

🔐 **登录/注销**
   • 每个账户都需要独立登录后才能进行操作
   • 注销后，该账户的所有活动将停止

🚀 **启动/停止策略**
   • 如果您不想跟单，而是想运行自动化策略
   • 在""运行策略""下拉菜单中选择一个策略
   • 点击""启动策略""开始自动交易

⚠️ **一键清仓** ⚠️
   • 紧急情况下，此功能会立即平掉该账户的所有持仓和挂单
   • **请谨慎使用！** 这是一个高风险操作

### ⚖️ 手数管理模式

📊 **与主账户相同**
   • 从账户的开仓手数与主账户完全一致
   • 适合相同资金规模的账户

🔢 **固定手数**
   • 无论主账户开多大手数，从账户始终使用您指定的固定手数
   • 适合风险控制要求较高的场景

📈 **按净值比例**
   • 开仓手数 = (从账户净值 / 主账户净值) × 主账户手数
   • 这是一种动态调整风险的方式
   • 适合资金规模不同但风险偏好相同的账户

### 🔄 品种映射规则

🌍 **全局规则 (账户概览页)**
   • **后缀/前缀**: 如果您的不同券商账户品种名称有固定差异
   • 例如 `EURUSD` 和 `EURUSD.m`，可以在此统一添加后缀 `.m` 或前缀

🎯 **精确映射 (全局 & 精确映射页)**
   • ⚠️ 此处的规则优先级最高，会覆盖全局规则
   • 您可以为某个从账户定义""一对一""的精确替换
   • 例如主账户交易 `GOLD` 时，从账户自动交易 `XAUUSD`

🔷━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━🔷

## ❓ 5. 常见问题 (FAQ)

**❓ Q: 为什么我的从账户没有跟单？**
**✅ A:** 请检查以下几点：
1.  📱 主账户和从账户是否都已成功""登录""？
2.  🔄 从账户是否已点击""启动跟随""？
3.  📋 查看""操作日志""标签页，是否有任何错误信息提示？
4.  🔢 您希望复制的主账户订单，其自身的""魔术号""是否与您为从账户设置的""跟单魔术号""相同？如果相同，订单会被有意忽略。（详见下一个问题）

**❓ Q: ""跟单魔术号""到底是什么？主账户并没有这个设置。**
**✅ A:** 您说得对，主账户无需设置。这里的关键逻辑是：
- **""跟单魔术号""** 🔢 是您为 **从账户** 设置的一个唯一标识
- 所有由本工具复制到从账户的订单，都会被标记上这个魔术号
- **防循环机制** 🔄：跟单程序在扫描主账户时，会检查主账户上**每一笔订单本身附带的魔术号**
- 如果发现某笔订单的魔术号与您设置的""跟单魔术号""**完全相同**，程序会认为这是""自己人""
- 可能是其他从账户复制的，或是一种循环信号，于是会**主动忽略**这笔订单，不去复制
- **正确设置** ✅：您只需确保给从账户设置的""跟单魔术号""是一个独特的数字
- **不要**和您主账户上任何希望被复制的EA或手动交易的魔术号一样即可

**❓ Q: 我可以自己写策略吗？**
**✅ A:** 当然可以！请切换到 **""策略开发说明""** 标签页，那里有详细的教程和代码模板，指导您如何创建自己的交易策略插件。

**❓ Q: 软件关闭后设置会丢失吗？**
**✅ A:** 不会。只要您在修改配置后点击了 **""保存设置""** 按钮，所有配置（包括密码）都会被加密保存在您电脑的用户数据目录中，下次启动时会自动加载。
'''